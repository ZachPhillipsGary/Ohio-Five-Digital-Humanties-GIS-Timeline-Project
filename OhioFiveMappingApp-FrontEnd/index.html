<!doctype html>
<html lang="en">

<head>
    <script src="http://cdn.rightjs.org/right-2.3.0.js"></script>
    <script src="./js/resize.js"></script>
    <script src="./js/arrayincludes.js"></script>
    <link rel="stylesheet" href="./bower_components/angular-multi-select/isteven-multi-select.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <link rel="stylesheet" href="http://openlayers.org/en/v3.6.0/css/ol.css" type="text/css">
    <link rel="stylesheet" href="./css/style.css" type="text/css">
    <link rel="stylesheet" href="./css/bootstrap.css" type="text/css">
    <script src="http://openlayers.org/en/v3.6.0/build/ol.js" type="text/javascript"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.2.0/vis.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.2.0/vis.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <script src="./bower_components/openlayers3/build/ol.js"></script>
    <script src="./bower_components/angular-sanitize/angular-sanitize.min.js"></script>
    <script src="./dist/angular-openlayers-directive.js"></script>
    <script src="./bower_components/angular-multi-select/isteven-multi-select.js"></script>
    <script src="./bower_components/moment/min/moment.min.js"></script>
    <script src="./bower_components/vis/dist/vis.min.js"></script>
    <script src="./bower_components/angular-visjs/angular-vis.js"></script>
    <link rel="stylesheet" href="./bower_components/openlayers3/build/ol.css" />
    <script src='./js/app.js'></script>
    <script type="text/javascript" src="./js/auth.js"></script>
    <script src='./js/client.js'></script>
    <script src="https://apis.google.com/js/client.js?onload=checkAuth"></script>

</head>

<body ng-app="mapApp">
    <div id='mainCtrl' ng-controller="mainCtrl">
        <!-- Control Panel Modal -->
        <div id="adminCtrl" class="modal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                        <h4 class="modal-title" data-container="body" data-toggle="popover" data-placement="left" data-content='' data-original-title="" title="">Control Panel</h4>


                    </div>
                    <div class="modal-body">
                      <div class="tab-pane fade active in" id="profile">
                        <div class="alert alert-dismissible alert-info">
                            <button type="button" class="close" data-dismiss="alert">×</button>
                            <strong>Ready to create your own map?</strong> Simply login to your <a href="https://www.google.com/drive/" class="alert-link">Google Drive</a> account and select a spreadsheet using the dropdown to begin!
                            <a href="#" onClick="showHelp()" class="alert-link">Need help getting started? Click here for our 30 second tutorial.</a>
                        </div>
                        <div id="authorize-div" align="center" style=" display: none">
                              <span align="center">Authorize access to Drive API</span><br/>
                              <!--Button for the user to click to initiate auth sequence -->
                              <button id="authorize-button" onclick="handleAuthClick(event)" class="btn btn-primary btn-lg"><i class="fa fa-google"></i> Sign in with Google!</a>
                            </div>

                            <div style="display:none;" id="helpGuide">
                            <h3>Getting Started!</h3>
                            <ol>
<li>Duplicate the <a href="https://docs.google.com/spreadsheets/d/1j9Z3bmaoCNd3DC1Vju2xCLsyYJW_SPiSOWBrYgt0F6o/">example spreadsheet</a> and put your data into the appropriate columns.</li>
<li>Next, login to your google drive by clicking the "sign in with google" button above.  </li>
<li>Using the dropdown menu below, select the spreadsheets you wish to include. The data should appear on the map and timeline.</li>
<li>That's it! Just click the save button below to share your work and you'll be ready to go!</li>
</ol>
</div>
                            <hr>
                            <span>Select a Spreadsheet from your Google Drive account to load into onto the map with the drop down below.</span><br/>
                            <!-- data selector -->
                            <div align="center" id="loadingAnimation"><i class="fa fa-spinner fa-pulse"></i></div>
                            <isteven-multi-select style="display: none" id="fileLoaderCtrl" input-model="googleData" on-item-click="addLayer( data )"
output-model="selectedData" button-label="fileName" item-label="fileName" tick-property="use" data-toggle="dropdown">
                            </isteven-multi-select>
                            <pre style="display:none" id="output"></pre>
                          <hr>
                          <a href="#" class="edit btn btn-primary btn-xl" disabled>Save </a>
                      </div>
                      <div class="tab-pane fade" id="dropdown1">
                      </div>
                      <div class="tab-pane fade" id="dropdown2">
                          <p>Trust fund seitan letterpress, keytar raw denim keffiyeh etsy art party before they sold out master cleanse gluten-free squid scenester freegan cosby sweater. Fanny pack portland seitan DIY, art party locavore wolf cliche high life echo park Austin. Cred vinyl keffiyeh DIY salvia PBR, banh mi before they sold out farm-to-table VHS viral locavore cosby sweater.</p>
                      </div>
                  </div>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>

                    </div>
                </div>
            </div>
        </div>
        <!-- end admin zone -->
        <!-- help modal -->
        <div id="help" class="modal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                        <h4 class="modal-title">About / help</h4>
                    </div>
                    <div class="modal-body">
                        <p>One fine body…</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>

                    </div>
                </div>
            </div>
        </div>
        <!-- end help modal -->
        <!-- begin create modal -->
        <div id="createModal" class="modal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                        <h4 class="modal-title">Create a Map</h4>
                    </div>
                    <div class="modal-body">

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary">Save changes</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- nav bar -->
        <div class="btn-toolbar">

            <div class="btn-group btn-group-justified">
                <a href="#" class="btn btn-default"><i class="fa fa-arrow-left"></i></a>
                <a href="#" class="btn btn-default" data-toggle="modal" data-target="#adminCtrl">Menu</a>
                <a href="#" class="btn btn-default"><i class="fa fa-arrow-right"></i></a>

            </div>
            <!-- filter selector -->
            <div id="filtersComponent">
                <isteven-multi-select input-model="filters" output-model="selectedFilters" button-label="icon name" item-label="icon name maker" tick-property="ticked" data-toggle="dropdown">
                </isteven-multi-select>

            </div>
            <!-- openlayers map lat="{{ initState.lat }}"  zoom="{ initState.zoom }}" lon="{ initState.log }}"  -->
            <openlayers ol-center="wooster" custom-layers="false" width="100%" height="470px">
                <!-- load all data markers into map -->
                <ol-marker ng-repeat="item in olMarkers"  lat="item.lat" lon="item.lng" ></ol-marker>
                <!-- load all data layers into map
                <ol-layer ng-repeat="item in olLayers" source-type="item.format" source-url="{{ item.url }}"></ol-layer>-->
            </openlayers>
            <!-- vis-timeline -->
            <vis-timeline data="data" options="options" events="events"></vis-timeline>

            <div id="timelinecContainer">
          </div>

<script>
var resizable = new Resizable('timelinecContainer', {
  direction: 'bottom'
});</script>
</body>

</html>
